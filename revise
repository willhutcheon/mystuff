
#include <iostream>
#include <fstream>
#include <cctype>
#include <string>

using namespace std;

int process(fstream& ifile, fstream& ofile, string ifileusr, bool& done);

int main()
{
	bool done = false;
	string ifileusr;
	string ofileusr;

	cout << "Input the name of the file that requires revision: ";
	getline(cin, ifileusr);
	//cin >> ifileusr;
	cout << "Input a name for the file that will be created to display the output: ";
	cin >> ofileusr;

	fstream ifile, ofile;
	ifile.open(ifileusr, ios::in);
	ofile.open(ofileusr, ios::out);

	process(ifile, ofile, ifileusr, done);
	if (done == true)
	{
		cout << "Operation completed. Check the folder that this program is located in for the output file.";
	}
	//cout << ifileusr;
	return 0;
}

int process(fstream& ifile, fstream& ofile, string ifileusr, bool& done)
{
	char chhold;
	bool boolchar;
	if (!ifile)
	{
		cout << "Error opening " << ifileusr;
		done = false;
	}
	else
	{
		boolchar = true;
		ifile.get(chhold);
		while (ifile)
		{
			if (chhold == '\t' || chhold == ' ' || chhold == '\n')
			{
				ofile.put(chhold);
			}
			else if (boolchar)
			{
				ofile.put(toupper(chhold));
				boolchar = false;
			}
			else
			{
				ofile.put(tolower(chhold));
			}
			if (chhold == '.')
			{
				boolchar = true;
			}
			ifile.get(chhold);
		}
		done = true;
	}
	ifile.close();
	ofile.close();
	return 0;
}
